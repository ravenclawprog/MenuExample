# 0. О программе

   MenuExample- тестовая программа для настольных ПЭВМ, которая показывает пример создание меню, состоящее из настраиваемых пунктов и подменю.

# 1. Структура репозитория

    \ - корневой каталог;  

# 2. Системные требования
   
	* ОС Windows 7 или выше;  
	* ОС Linux (версия ядра 2.4.2 или выше);  
	* Qt v.4.8.1 или выше;  
	* gcc v.3.3.6 или выше (или аналогичный компилятор); 


# 3. Сборка

## 3.1 Сборка при помощи утилиты Qt Creator:  

    1) Открыть файл "`MenuExample.pro`" в программе Qt Creator.  
    2) Выбрать комплект сборки, настроенный в вашем Qt.  
    3) Нажать сочетание клавиш `Ctrl+B` (или выбрать в верхнем меню раздел "`Сборка`"->"`Собрать проект "MenuExample"`).  
    4) Проект будет собран в папке, которая была настроена в п.2 (или же DESTDIR в .pro-файле).  
   

## 3.2 Сборка из командной строки:  

    1) Перейти в корневой каталог проекта ("MenuExample").  
    2) Выполнить команду "`qmake MenuExample.pro`".  
    3) Выполнить команду "`make`" (в зависимости от используемого компилятора).
    4) Проект будет собран в папке с проектом. Чтобы собрать проект в другом каталоге необходимо откорректировать файл MenuExample.pro, добавив в него поле "`DESTDIR= < каталог для сборки > `".  
   


# 4. Настройка программы

   Настройки программы находятся в заголовочном файле "`settings.h`".  
     1) Пункты меню задаются в виде списков *`std::list<MenuItem>`*. Данные списки представляют собой так называемые "Подменю"(список пунктов меню).  
     2) На вход модели меню должен подаваться объект типа *`std::list<std::list<MenuItem>>`*. Данный список списков пунктов меню как раз представляет собой "Меню" (представляет собой список "Подменю").  
     3) При создании подменю можно использовать список инициализации (*`brace-init list`*(*`std::initializer_list`*))  
     4) MenuItem состоит из строкового поля *`name`* и поля ссылки на функцию, не принимающую и не возвращающую параметры *`func`*.  
     5) Прототипы функций раполагаются над описанием списков "Меню" и "Подменю" (для компиляции проекта).  
     6) Реализация функций представлена в этом же заголовочном файле, только ниже.  

   
# 5. Инструкция по управлению

   Программа позволяет организовать диалог пользователь-программа или же программа-программа при помощи меню. В данном примере представлен вариант консольного исполнения. Отображение меню и прием команд происходит в консоли.  
   Переда началом работы программы необходимо задать список "Меню", список "Подменю", в которых должны быть указаны имена пунктов подменю, функции, вызываемые данным пунктом меню, порядок следования меню и подменю.
   В конце приема и передачи необходимо вызвать команду выход.
   Программа имеет следующие команды:  
   - вверх;  
   - вниз;  
   - исполнить;  
   - выход;    
   Программа работает по следующему принципу:  
   - объект *`CONIOConsoleController`* *`c`* принимает сигналы от клавиатуры, декодирует команды в цикле и выдает команды на исполнение модели, которая содержится в объекте *`CONIOConsoleController`* как отдельное поле, которое задается при создании объекта.  
   - объект *`MenuModel`* *`m`* исполняет команды, декодированные объектом  *CONIOConsoleController* *c*, путем непосредственного вызова их внутри объекта *`CONIOConsoleController`* *`c`*.  
   - "`Меню`", содержащееся в поле объекта *MenuModel* *m* , после изменения навигации по нему или выбора отдельного подменю, отображается в консоли объектом *`ConsoleView`* *`v`*.  
   - отображение результатов происходит непосредственно в функциях, которые вызываются с помощью меню. Данный пункт можно изменить, только если унифицировать вывод каждой команды и связать её с классом отображения (view).
   - переход по отдельным подменю осуществляется через специальные функции и прописываются отдельными пунктами в подменю.

## 5.1 Команда "Вверх"  

   Переводит позицию курсора на одну позицию вверх. Если достигнуто начало подменю, то курсор никуда не переводится.  
   При использовании *`CONIOConsoleController`* достаточно одиночного нажатия клавиши вверх ↑.  
   
## 5.2 Команда "Вниз"  

   Переводит позицию курсора на одну позицию вниз. Если достигнут конец подменю, то курсор никуда не переводится.  
   При использовании *`CONIOConsoleController`* достаточно одиночного нажатия клавиши вниз ↑.      

## 5.3 Команда "Исполнить"  

   Исполняет функцию, заложенную в данном пункте подменю, на которую в данный момент указывает курсор.  
   При использовании *`CONIOConsoleController`* выполняется при помощи одиночного нажатия на клавишу Enter.  

## 5.4 Команда "Выход" 

   Завершает работу с программой. По окончании программы вызывается метод объекта *`ConsoleView`* *`v.farawell()`*, который выводит сообщение на экран.  
   При использовании *`CONIOConsoleController`* выполняется при помощи нажатия на сочетание клавиш Ctrl+C или же после ввода текста "exit" и одиночного нажатия Enter.


